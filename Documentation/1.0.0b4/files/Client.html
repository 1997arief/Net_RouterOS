<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PEAR2_Net_RouterOS documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">Client.php<a href="../source/Client.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PEAR2\Net\RouterOS\Client">\PEAR2\Net\RouterOS\Client</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">RouterOS API client implementation.</div><div class="long-description">RouterOS is the flag product of the company MikroTik and is a powerful router software. One of its many abilities is to allow control over it via an API. This package provides a client for that API, in turn allowing you to use PHP to control RouterOS hosts.

PHP version 5</div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>Copyright</dt><dd>2011 Vasil Rangelov
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_RouterOS">http://pear2.php.net/PEAR2_Net_RouterOS</a>
         
    </dd><dt>Package</dt><dd>PEAR2_Net_RouterOS
         
    </dd><dt>Version</dt><dd>1.0.0b4
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PEAR2\Net\RouterOS\Client" class="anchor"></a><h2 class="class">\PEAR2\Net\RouterOS\Client<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>PEAR2_Net_RouterOS</small><div class="short-description">A RouterOS client.</div><div class="long-description">Provides functionality for easily communicating with a RouterOS host.</div><dl class="class-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_RouterOS">http://pear2.php.net/PEAR2_Net_RouterOS</a>
         
    </dd></dl><h3>Constants</h3><div><a id="\PEAR2\Net\RouterOS\Client::FILTER_CALLBACK" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">FILTER_CALLBACK</span>
                = 1</code><div class="description"><div class="short-description">Used in {@link isRequestActive()} to limit search only to requests
that have a callback.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::FILTER_BUFFER" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">FILTER_BUFFER</span>
                = 2</code><div class="description"><div class="short-description">Used in {@link isRequestActive()} to limit search only to requests
that use the buffer.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::FILTER_ALL" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">FILTER_ALL</span>
                = 3</code><div class="description"><div class="short-description">Used in {@link isRequestActive()} to indicate no limit in search.</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div></div><h3>Properties</h3><div><a id="\PEAR2\Net\RouterOS\Client::$_streamingResponses" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>bool <span class="highlight">$_streamingResponses</span> = false</code><div class="description"><div class="short-description"><p>Whether to stream future responses.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>false</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>bool</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::$callbacks" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$callbacks</span> = array()</code><div class="description"><div class="short-description"><p>An array of callbacks to be executed as responses come.
    Key is the tag of the request, and the value is the callback for it.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::$com" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\PEAR2\Net\RouterOS\Communicator <span class="highlight">$com</span></code><div class="description"><div class="short-description"><p>The communicator for this client.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/Communicator.html">\PEAR2\Net\RouterOS\Communicator</a></dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::$pendingRequestsCount" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>int <span class="highlight">$pendingRequestsCount</span> = 0</code><div class="description"><div class="short-description"><p>The number of currently pending requests.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>0</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>int</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::$registry" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\PEAR2\Net\RouterOS\Registry <span class="highlight">$registry</span> = null</code><div class="description"><div class="short-description"><p>A registry for the operations. Particularly helpful at
    persistent connections.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/Registry.html">\PEAR2\Net\RouterOS\Registry</a></dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::$responseBuffer" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$responseBuffer</span> = array()</code><div class="description"><div class="short-description"><p>An array of responses that have not yet been extracted or
    passed to a callback. Key is the tag of the request, and the value
    is an array of associated responses.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PEAR2\Net\RouterOS\Client::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(string $host, string $username, string $password = '', int | null $port = 8728, bool $persist = false, float $timeout = null, string $crypto = \PEAR2\Net\Transmitter\NetworkStream::CRYPTO_OFF, resource $context = null)</span> : void</code><div class="description"><p class="short_description">Creates a new instance of a RouterOS API client.</p></div><div class="code-tabs"><div class="long-description">Creates a new instance of a RouterOS API client with the specified
settings.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$host</th><td>string</td><td><em><p>Hostname (IP or domain) of the RouterOS server.</p>
</em></td></tr><tr><th>$username</th><td>string</td><td><em><p>The RouterOS username.</p></em></td></tr><tr><th>$password</th><td>string</td><td><em><p>The RouterOS password.</p></em></td></tr><tr><th>$port</th><td>int | null</td><td><em><p>The port on which the RouterOS server provides
    the API service. You can also specify NULL, in which case the port
    will automatically be chosen between 8728 and 8729, depending on the
    value of $crypto.</p>
</em></td></tr><tr><th>$persist</th><td>bool</td><td><em><p>Whether or not the connection should be a
    persistent one.</p></em></td></tr><tr><th>$timeout</th><td>float</td><td><em><p>The timeout for the connection.</p></em></td></tr><tr><th>$crypto</th><td>string</td><td><em><p>The encryption for this connection. Must be one
    of the PEAR2\Net\Transmitter\NetworkStream::CRYPTO_* constants. Off
    by default. RouterOS currently supports only TLS, but the setting is
    provided in this fashion for forward compatibility's sake. And for
    the sake of simplicity, if you specify an encryption, don't specify a
    context and your default context uses the value "DEFAULT" for
    ciphers, "ADH" will be automatically added to the list of ciphers.</p>
</em></td></tr><tr><th>$context</th><td>resource</td><td><em><p>A context for the socket.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendSync()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendAsync()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::__destruct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__destruct</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Closes the connection, unless it's a persistent one.</p></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::__invoke()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__invoke</span><span class="nb-faded-text">(mixed $arg = null)</span> : mixed</code><div class="description"><p class="short_description">A shorthand gateway.</p></div><div class="code-tabs"><div class="long-description">This is a magic PHP method that allows you to call the object as a
function. Depending on the argument given, one of the other functions in
the class is invoked and its returned value is returned by this function.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$arg</th><td>mixed</td><td><em><p>Value can be either a {@link Request} to send, which
    would be sent asynchoniously if it has a tag, and synchroniously if
    not, a number to loop with or NULL to complete all pending requests.
    Any other value is converted to string and treated as the tag of a
    request to complete.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Whatever the long form function would have returned.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::_login()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">_login</span><span class="nb-faded-text">(<a href="../files/Communicator.html">\PEAR2\Net\RouterOS\Communicator</a> $com, string $username, string $password = '', int | null $timeout = null)</span> : bool</code><div class="description"><span class="attribute">static</span><p class="short_description">Login to a RouterOS connection.</p></div><div class="code-tabs"><div class="long-description">This is the actual login procedure, applied regardless of persistence and
charset settings.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$com</th><td><a href="../files/Communicator.html">\PEAR2\Net\RouterOS\Communicator</a></td><td><em><p>The communicator to attempt to login to.</p></em></td></tr><tr><th>$username</th><td>string</td><td><em><p>The RouterOS username.</p></em></td></tr><tr><th>$password</th><td>string</td><td><em><p>The RouterOS password. Potentially parsed
    already by iconv.</p></em></td></tr><tr><th>$timeout</th><td>int | null</td><td><em><p>The time to wait for each response. NULL
    waits indefinetly.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::cancelRequest()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">cancelRequest</span><span class="nb-faded-text">(string $tag = null)</span> : \PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></code><div class="description"><p class="short_description">Cancels a request.</p></div><div class="code-tabs"><div class="long-description">Cancels an active request. Using this function in favor of a plain call
to the "/cancel" command is highly reccomended, as it also updates the
counter of pending requests properly. Note that canceling a request also
removes any responses for it that were not previously extracted with
{@link extractNewResponses()}.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$tag</th><td>string</td><td><em><p>Tag of the request to cancel. Setting NULL will cancel
    all requests.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></td><td>The client object.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Fluent</dt><dd>This method is part of a fluent interface and will return the same instance
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendAsync()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\close()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::close()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">close</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Closes the opened connection, even if it is a persistent one.</p></div><div class="code-tabs"><div class="long-description">Closes the opened connection, even if it is a persistent one. Note that
{@link extractNewResponses()} can still be used to extract responses
collected prior to the closing.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::completeRequest()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">completeRequest</span><span class="nb-faded-text">(string $tag = null)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Completes a specified request.</p></div><div class="code-tabs"><div class="long-description">Starts an event loop for the RouterOS callbacks and finishes when a
specified request is completed.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$tag</th><td>string</td><td><em><p>The tag of the request to complete. Setting NULL
    completes all requests.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>A collection of {@link Response} objects that
    haven't been passed to a callback function or previously extracted
    with {@link extractNewResponses()}. Returns an empty collection when
    $tag is set to NULL (responses can still be extracted).</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::dispatchNextResponse()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">dispatchNextResponse</span><span class="nb-faded-text">(int $timeout_s = 0, int $timeout_us = 0)</span> : <a href="../files/Response.html">\PEAR2\Net\RouterOS\Response</a></code><div class="description"><p class="short_description">Dispatches the next response in queue.</p></div><div class="code-tabs"><div class="long-description">Dispatches the next response in queue, i.e. it executes the associated
callback if there is one, or places the response in the response buffer.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$timeout_s</th><td>int</td><td><em><p>If a response is not immediatly available, wait
    this many seconds. If NULL, wait indefinetly.</p></em></td></tr><tr><th>$timeout_us</th><td>int</td><td><em><p>Microseconds to add to the waiting time.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/Response.html">\PEAR2\Net\RouterOS\Response</a></td><td>The dispatched response.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/SocketException.html">\PEAR2\Net\RouterOS\SocketException</a></td><td><em>When there's no response within the time limit.</em></td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::extractNewResponses()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">extractNewResponses</span><span class="nb-faded-text">(string $tag = null)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Extracts responses for a request.</p></div><div class="code-tabs"><div class="long-description">Gets all new responses for a request that haven't been passed to a
callback and clears the buffer from them.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$tag</th><td>string</td><td><em><p>The tag of the request to extract new responses for.
    Specifying NULL with extract new responses for all requests.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>A collection of {@link Response} objects for
    the specified request.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\loop()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::getCharset()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getCharset</span><span class="nb-faded-text">(int $charsetType)</span> : string | array</code><div class="description"><p class="short_description">Gets the charset(s) for this connection.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$charsetType</th><td>int</td><td><em><p>Which charset to get. Valid values are the
    Communicator::CHARSET_* constants. Any other value is treated as
    {@link Communicator::CHARSET_ALL}.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string | array</td><td>The current charset. If $charsetType is
    {@link Communicator::CHARSET_ALL}, the current values will be
    returned as an array with the types as keys, and charsets as values.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\setCharset()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::getPendingRequestsCount()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getPendingRequestsCount</span><span class="nb-faded-text">()</span> : int</code><div class="description"><p class="short_description">Gets the number of pending requests.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The number of pending requests.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\isRequestActive()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::isRequestActive()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isRequestActive</span><span class="nb-faded-text">(string $tag, int $filter = self::FILTER_ALL)</span> : bool</code><div class="description"><p class="short_description">Checks if a request is active.</p></div><div class="code-tabs"><div class="long-description">Checks if a request is active. A request is considered active if it's a
pending request and/or has responses that are not yet extracted.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$tag</th><td>string</td><td><em><p>The tag of the request to look for.</p></em></td></tr><tr><th>$filter</th><td>int</td><td><em><p>One of the FILTER_* consntants. Limits the search
    to the specified places.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the request is active, FALSE otherwise.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\getPendingRequestsCount()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\completeRequest()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::isStreamingResponses()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isStreamingResponses</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><p class="short_description">Gets response streaming setting.</p></div><div class="code-tabs"><div class="long-description">Gets whether future responses are streamed.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>The value of the setting.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\setStreamingResponses()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::login()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">login</span><span class="nb-faded-text">(<a href="../files/Communicator.html">\PEAR2\Net\RouterOS\Communicator</a> $com, string $username, string $password = '', int | null $timeout = null)</span> : bool</code><div class="description"><span class="attribute">static</span><p class="short_description">Login to a RouterOS connection.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$com</th><td><a href="../files/Communicator.html">\PEAR2\Net\RouterOS\Communicator</a></td><td><em><p>The communicator to attempt to login to.</p></em></td></tr><tr><th>$username</th><td>string</td><td><em><p>The RouterOS username.</p></em></td></tr><tr><th>$password</th><td>string</td><td><em><p>The RouterOS password.</p></em></td></tr><tr><th>$timeout</th><td>int | null</td><td><em><p>The time to wait for each response. NULL
    waits indefinetly.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::loop()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">loop</span><span class="nb-faded-text">(int $timeout_s = null, int $timeout_us = 0)</span> : bool</code><div class="description"><p class="short_description">Starts an event loop for the RouterOS callbacks.</p></div><div class="code-tabs"><div class="long-description">Starts an event loop for the RouterOS callbacks and finishes when there
are no more pending requests or when a specified timeout has passed
(whichever comes first).</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$timeout_s</th><td>int</td><td><em><p>Timeout for the loop. If NULL, there is no time
    limit.</p></em></td></tr><tr><th>$timeout_us</th><td>int</td><td><em><p>Microseconds to add to the time limit.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE when there are any more pending requests, FALSE
    otherwise.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\extractNewResponses()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\getPendingRequestsCount()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::send()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">send</span><span class="nb-faded-text">(<a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a> $request)</span> : \PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></code><div class="description"><p class="short_description">Sends a request to RouterOS.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$request</th><td><a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a></td><td><em><p>The request to send.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></td><td>The client object.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Fluent</dt><dd>This method is part of a fluent interface and will return the same instance
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendSync()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendAsync()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::sendAsync()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">sendAsync</span><span class="nb-faded-text">(<a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a> $request, callback $callback = null)</span> : \PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></code><div class="description"><p class="short_description">Sends a request and waits for responses.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$request</th><td><a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a></td><td><em><p>The request to send.</p></em></td></tr><tr><th>$callback</th><td>callback</td><td><em><p>Optional. A function that is to be executed
    when new responses for this request are available. The callback takes
    two parameters. The {@link Response} object as the first, and the
    {@link Client} object as the second one. If the function returns
    TRUE, the request is canceled. Note that the callback may be executed
    one last time after that with a response that notifies about the
    canceling.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PEAR2\Net\RouterOS\Client | <a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></td><td>The client object.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Fluent</dt><dd>This method is part of a fluent interface and will return the same instance
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\completeRequest()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\loop()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\cancelRequest()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::sendSync()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">sendSync</span><span class="nb-faded-text">(<a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a> $request)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Sends a request and gets the full response.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$request</th><td><a href="../files/Request.html">\PEAR2\Net\RouterOS\Request</a></td><td><em><p>The request to send.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>The received responses as a collection.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\sendAsync()"></a>
         
    </dd><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\close()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::setCharset()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setCharset</span><span class="nb-faded-text">(mixed $charset, int $charsetType = \PEAR2\Net\RouterOS\Communicator::CHARSET_ALL)</span> : string | array</code><div class="description"><p class="short_description">Sets the charset(s) for this connection.</p></div><div class="code-tabs"><div class="long-description">Sets the charset(s) for this connection. The specified charset(s) will be
used for all future requests and responses. When sending,
{@link Communicator::CHARSET_LOCAL} is converted to
{@link Communicator::CHARSET_REMOTE}, and when receiving,
{@link Communicator::CHARSET_REMOTE} is converted to
{@link Communicator::CHARSET_LOCAL}. Setting NULL to either charset will
disable charset convertion, and data will be both sent and received "as
is".</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$charset</th><td>mixed</td><td><em><p>The charset to set. If $charsetType is
    {@link Communicator::CHARSET_ALL}, you can supply either a string to
    use for all charsets, or an array with the charset types as keys, and
    the charsets as values.</p>
</em></td></tr><tr><th>$charsetType</th><td>int</td><td><em><p>Which charset to set. Valid values are the
    Communicator::CHARSET_* constants. Any other value is treated as
    {@link Communicator::CHARSET_ALL}.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string | array</td><td>The old charset. If $charsetType is
    {@link Communicator::CHARSET_ALL}, the old values will be returned as
    an array with the types as keys, and charsets as values.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\Communicator::setDefaultCharset()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Client::setStreamingResponses()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">setStreamingResponses</span><span class="nb-faded-text">(bool $streamingResponses)</span> : bool</code><div class="description"><p class="short_description">Sets response streaming setting.</p></div><div class="code-tabs"><div class="long-description">Sets whether future responses are streamed. If responses are streamed,
the argument values are returned as streams instead of strings. This is
particularly useful if you expect a response that may contain one or more
very large words.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$streamingResponses</th><td>bool</td><td><em><p>Whether to stream future responses.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>The previous value of the setting.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>See</dt><dd><a href="../files/
                         \PEAR2\Net\RouterOS\isStreamingResponses()"></a>
         
    </dd></dl></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0-DEV
</a>.
        </small></body></html>
