<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PEAR2_Net_RouterOS documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">Util.php<a href="../source/Util.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PEAR2\Net\RouterOS\Util">\PEAR2\Net\RouterOS\Util</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">RouterOS API client implementation.</div><div class="long-description">RouterOS is the flag product of the company MikroTik and is a powerful router software. One of its many abilities is to allow control over it via an API. This package provides a client for that API, in turn allowing you to use PHP to control RouterOS hosts.

PHP version 5</div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>Copyright</dt><dd>2011 Vasil Rangelov
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_RouterOS">http://pear2.php.net/PEAR2_Net_RouterOS</a>
         
    </dd><dt>Package</dt><dd>PEAR2_Net_RouterOS
         
    </dd><dt>Version</dt><dd>1.0.0b4
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PEAR2\Net\RouterOS\Util" class="anchor"></a><h2 class="class">\PEAR2\Net\RouterOS\Util<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>PEAR2_Net_RouterOS</small><div class="short-description">Utility class.</div><div class="long-description">Abstracts away frequently used functionality (particularly CRUD operations)
in convinient to use methods by wrapping around a connection.</div><dl class="class-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Net
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Net_RouterOS">http://pear2.php.net/PEAR2_Net_RouterOS</a>
         
    </dd></dl><h3>Properties</h3><div><a id="\PEAR2\Net\RouterOS\Util::$client" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>\PEAR2\Net\RouterOS\Client <span class="highlight">$client</span></code><div class="description"><div class="short-description"><p>The connection to wrap around.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd><a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::$idCache" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>array <span class="highlight">$idCache</span> = null</code><div class="description"><div class="short-description"><p>An array with the numbers of entries in the current menu as
    keys, and the corresponding IDs as values.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>null</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::$menu" class="anchor"></a><div class="property protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img>string <span class="highlight">$menu</span> = '/'</code><div class="description"><div class="short-description"><p>The current menu.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>'/'</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>string</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PEAR2\Net\RouterOS\Util::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(<a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a> $client)</span> : void</code><div class="description"><p class="short_description">Creates a new Util instance.</p></div><div class="code-tabs"><div class="long-description">Wraps around a connection to provide convinience methods.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$client</th><td><a href="../files/Client.html">\PEAR2\Net\RouterOS\Client</a></td><td><em><p>The connection to wrap around.</p></em></td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::_escapeCharacters()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">_escapeCharacters</span><span class="nb-faded-text">(string $chars)</span> : string</code><div class="description"><span class="attribute">static</span><p class="short_description">Escapes a character for a RouterOS scripting context.</p></div><div class="code-tabs"><div class="long-description">Escapes a character for a RouterOS scripting context. Intended to only be
called for non-alphanumeric characters.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$chars</th><td>string</td><td><em><p>The matches array, expected to contain exactly one
    member, in which is the whole string to be escaped.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The escaped character.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::_exec()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">_exec</span><span class="nb-faded-text">(string $source, array $params = array(), string $policy = null, string $name = null, bool $get = false)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a> | string</code><div class="description"><p class="short_description">Executes a RouterOS script.</p></div><div class="code-tabs"><div class="long-description">Same as the public equivalent, with the addition of allowing you to get
the contents of the script post execution, instead of removing it.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$source</th><td>string</td><td><em><p>A script to execute.</p></em></td></tr><tr><th>$params</th><td>array</td><td><em><p>An array of local variables to make available in
    the script. Variable names are array keys, and variable values are
    array values. Note that the script's (generated) name is always added
    as the variable "_", which you can overwrite from here.
    Native PHP types will be converted to their RouterOS equivalents.
    DateTime and DateInterval objects will be casted to RouterOS' "time"
    type. Other types are casted to strings.</p>
</em></td></tr><tr><th>$policy</th><td>string</td><td><em><p>Allows you to specify a policy the script must
    follow. Has the same format as in terminal. If left NULL, the script
    has no restrictions.</p></em></td></tr><tr><th>$name</th><td>string</td><td><em><p>The script is executed after being saved in
    "/system script" under a random name (prefixed with the computer's
    name), and is removed after execution. To eliminate any possibility
    of name clashes, you can specify your own name.</p>
</em></td></tr><tr><th>$get</th><td>bool</td><td><em><p>Whether to keep the script after execution.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a> | string</td><td>If the script was not added
    successfully before execution, the ResponseCollection from the add
    attempt is going to be returned. Otherwise, the (generated) name of
    the script.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::add()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">add</span><span class="nb-faded-text">(array $values)</span> : string</code><div class="description"><p class="short_description">Adds a new entry at the current menu.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$values</th><td>array</td><td><em><p>Accepts one or more entries to add to the
    current menu. The data about each entry is specified as an array with
    the names of each property as an array key, and the value as an array
    value.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>A comma separated list of the new entries' IDs.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::changeMenu()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">changeMenu</span><span class="nb-faded-text">(string $newMenu = '')</span> : string</code><div class="description"><p class="short_description">Changes the current menu.</p></div><div class="code-tabs"><div class="long-description">Changes the current menu.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$newMenu</th><td>string</td><td><em><p>The menu to change to. Can be specified with API
    or CLI syntax and can be either absolute or relative. If relative,
    it's relative to the current menu, which by default is the root.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The old menu. If an empty string is given for a new menu,
    no change is performed, and this function returns the current menu.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::clearIdCache()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">clearIdCache</span><span class="nb-faded-text">()</span> : \PEAR2\Net\RouterOS\Util</code><div class="description"><p class="short_description">Clears the ID cache.</p></div><div class="code-tabs"><div class="long-description">Normally, the ID cache improves performance when targeting entries by a
number. If you're using both Util's methods and other means (e.g.
{@link Client} or {@link Util::exec()}) to add/move/remove entries, the
cache may end up being out of date. By calling this method right before
targeting an entry with a number, you can ensure number accuracy.

Note that Util's {@link move()} and {@link remove()} methods
automatically clear the cache before returning, while {@link add()} adds
the new entry's ID to the cache as the next number. A change in the menu
also clears the cache.

Note also that the cache is being rebuilt unconditionally every time you
use {@link find()} with a callback.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>\PEAR2\Net\RouterOS\Util</td><td>The Util object itself.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Fluent</dt><dd>This method is part of a fluent interface and will return the same instance
         
    </dd></dl></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::disable()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">disable</span><span class="nb-faded-text">()</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Disables all entries at the current menu matching certain criteria.</p></div><div class="code-tabs"><div class="long-description">Zero or more arguments can be specified, each being a criteria.
If zero arguments are specified, disables all entries.
See {@link find()} for a description of what criteria are accepted.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::doBulk()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">doBulk</span><span class="nb-faded-text">(string $what, array $args = array())</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Performs an action on a bulk of entries at the current menu.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$what</th><td>string</td><td><em><p>What action to perform.</p></em></td></tr><tr><th>$args</th><td>array</td><td><em><p>Zero or more arguments can be specified, each being
    a criteria. If zero arguments are specified, removes all entries.
    See {@link find()} for a description of what criteria are accepted.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::edit()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">edit</span><span class="nb-faded-text">(mixed $numbers, array $newValues)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Alias of {@link set()}</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$numbers</th><td>mixed</td><td><em><p>Targeted entries. Can be any criteria accepted by
    {@link find()}.</p>
</em></td></tr><tr><th>$newValues</th><td>array</td><td><em><p>An array with the names of each changed property
    as an array key, and the new value as an array value.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::enable()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">enable</span><span class="nb-faded-text">()</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Enables all entries at the current menu matching certain criteria.</p></div><div class="code-tabs"><div class="long-description">Zero or more arguments can be specified, each being a criteria.
If zero arguments are specified, enables all entries.
See {@link find()} for a description of what criteria are accepted.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::escapeString()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">escapeString</span><span class="nb-faded-text">(string $value)</span> : string</code><div class="description"><span class="attribute">static</span><p class="short_description">Escapes a string for a RouterOS scripting context.</p></div><div class="code-tabs"><div class="long-description">Escapes a string for a RouterOS scripting context. The value can be
surrounded with quotes at a RouterOS script (or concatenated onto a
larger string first), and you can be sure there won't be any code
injections coming from it.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$value</th><td>string</td><td><em><p>Value to be escaped.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The escaped value.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::escapeValue()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">escapeValue</span><span class="nb-faded-text">(mixed $value)</span> : string</code><div class="description"><span class="attribute">static</span><p class="short_description">Escapes a value for a RouterOS scripting context.</p></div><div class="code-tabs"><div class="long-description">Turns any native PHP value into an equivalent whole value that can be
inserted as part of a RouterOS script.

DateTime and DateInterval objects will be casted to RouterOS' "time"
type. A DateTime object will be converted to a time relative to the UNIX
epoch time. Note that if a DateInterval does not have the "days" property
("a" in formatting), then its months and years will be ignored, because
they can't be unambigiously converted to a "time" value.

Unrecognized types are casted to strings.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$value</th><td>mixed</td><td><em><p>The value to be escaped.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>A string representation that can be directly inserted in a
    script as a whole value.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::exec()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">exec</span><span class="nb-faded-text">(string $source, array $params = array(), string $policy = null, string $name = null)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Executes a RouterOS script.</p></div><div class="code-tabs"><div class="long-description">Executes a RouterOS script, written as a string.
Note that in cases of errors, the line numbers will be off, because the
script is executed at the current menu as context, with the specified
variables pre declared. This is achieved by prepending 1+count($params)
lines before your actual script.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$source</th><td>string</td><td><em><p>A script to execute.</p></em></td></tr><tr><th>$params</th><td>array</td><td><em><p>An array of local variables to make available in
    the script. Variable names are array keys, and variable values are
    array values. Array values are automatically processed with
    {@link escapeValue()}.
    Note that the script's (generated) name is always added as the
    variable "_", which you can overwrite from here.</p>
</em></td></tr><tr><th>$policy</th><td>string</td><td><em><p>Allows you to specify a policy the script must
    follow. Has the same format as in terminal. If left NULL, the script
    has no restrictions.</p></em></td></tr><tr><th>$name</th><td>string</td><td><em><p>The script is executed after being saved in
    "/system script" under a random name (prefixed with the computer's
    name), and is removed after execution. To eliminate any possibility
    of name clashes, you can specify your own name.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection of the run,
    allowing you to inspect errors, if any. If the script was not added
    successfully before execution, the ResponseCollection from the add
    attempt is going to be returned.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::fileGetContents()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">fileGetContents</span><span class="nb-faded-text">(string $filename, string $tmpScriptName = null)</span> : string | bool</code><div class="description"><p class="short_description">Gets the contents of a specified file.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$filename</th><td>string</td><td><em><p>The name of the file to get the contents of.</p></em></td></tr><tr><th>$tmpScriptName</th><td>string</td><td><em><p>In order to get the file's contents, a
    script is created at "/system script" with a random name, the
    source of which is then overwriten with the file's contents, and
    finally retrieved. To eliminate any possibility of name clashes, you
    can specify your own name for the script.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string | bool</td><td>The contents of the file or FALSE if there is no such
    file.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::filePutContents()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">filePutContents</span><span class="nb-faded-text">(string $filename, string $data, bool $overwrite = false)</span> : bool</code><div class="description"><p class="short_description">Puts a file on RouterOS's file system.</p></div><div class="code-tabs"><div class="long-description">Puts a file on RouterOS's file system, regardless of the current menu.
Note that this is a **VERY VERY VERY** time consuming method - it takes a
minimum of a little over 4 seconds, most of which are in sleep. It waits
2 seconds after a file is first created (required to actually start
writing to the file), and another 2 seconds after its contents is written
(performed in order to verify success afterwards). If you want an
efficient way of transferring files, use (T)FTP.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$filename</th><td>string</td><td><em><p>The filename to write data in.</p></em></td></tr><tr><th>$data</th><td>string</td><td><em><p>The data the file is going to have.</p></em></td></tr><tr><th>$overwrite</th><td>bool</td><td><em><p>Whether to overwrite the file if it exists.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::find()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">find</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description">Finds the IDs of entries at the current menu.</p></div><div class="code-tabs"><div class="long-description">Finds the IDs of entries based on specified criteria, and returns them as
a comma separated string, ready for insertion at a "numbers" argument.

Accepts zero or more criteria as arguments. If zero arguments are
specified, returns all entries' IDs. The value of each criteria can be a
number (just as in Winbox), a literal ID to be included, a {@link Query}
object, or a callback. If a callback is specified, it is called for each
entry, with the entry as an argument. If it returns a true value, the
item's ID is included in the result. Every other value is casted to a
string. A string is treated as a comma separated values of IDs, numbers
or callback names. Non-existent callback names are instead placed in the
result, which may be useful in menus that accept identifiers other than
IDs, but note that it can cause errors on other menus.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>A comma separated list of all entries matching the
    specified criteria.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::get()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">get</span><span class="nb-faded-text">(int | string | null $number, string $value_name)</span> : string | null | bool</code><div class="description"><p class="short_description">Gets a value of a specified entry at the current menu.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$number</th><td>int | string | null</td><td><em><p>A number identifying the entry you're
    targeting. Can also be an ID or (in some menus) name. For menus where
    there are no entries (e.g. "/system identity"), you can specify NULL.</p>
</em></td></tr><tr><th>$value_name</th><td>string</td><td><em><p>The name of the value you want to get.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string | null | bool</td><td>The value of the specified property. If the
    property is not set, NULL will be returned. If no such entry exists,
    FALSE will be returned.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::move()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">move</span><span class="nb-faded-text">(mixed $numbers, mixed $destination)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Moves entries at the current menu before a certain other entry.</p></div><div class="code-tabs"><div class="long-description">Moves entries before a certain other entry. Note that the "move"
command is not available on all menus. As a rule of thumb, if the order
of entries in a menu is irrelevant to their interpretation, there won't
be a move command on that menu. If in doubt, check from a terminal.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$numbers</th><td>mixed</td><td><em><p>Targeted entries. Can be any criteria accepted
    by {@link find()}.</p>
</em></td></tr><tr><th>$destination</th><td>mixed</td><td><em><p>Entry before which the targeted entries will be
    moved to. Can be any criteria accepted by {@link find()}. If multiple
    entries match the criteria, the targeted entries will move above the
    first match.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::parseValue()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">parseValue</span><span class="nb-faded-text">(string $value)</span> : mixed</code><div class="description"><span class="attribute">static</span><p class="short_description">Parses a value from a RouterOS scripting context.</p></div><div class="code-tabs"><div class="long-description">Turns a value from RouterOS into an equivalent PHP value, based on
determining the type in the same way RouterOS would determine it for a
literal.

This method is intended to be the very opposite of {@link escapeValue()}.
That is, results from that method, if given to this method, should
produce equivalent results.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$value</th><td>string</td><td><em><p>The value to be parsed. Must be a literal of a
    value, e.g. what {@link escapeValue()} will give you.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>Depending on RouterOS type detected:
    - "nil" or "nothing" - NULL.
    - "number" - int or double for large values.
    - "bool" - a boolean.
    - "time" - a {@link DateInterval} object.
    - "array" - an array, with the values processed recursively.
    - "str" - a string.
    - Unrecognized type - treated as an unquoted string.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::remove()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">remove</span><span class="nb-faded-text">()</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Removes all entries at the current menu matching certain criteria.</p></div><div class="code-tabs"><div class="long-description">Zero or more arguments can be specified, each being a criteria.
If zero arguments are specified, removes all entries.
See {@link find()} for a description of what criteria are accepted.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::set()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">set</span><span class="nb-faded-text">(mixed $numbers, array $newValues)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Sets new values.</p></div><div class="code-tabs"><div class="long-description">Sets new values on certain properties on all entries at the current menu
which match certain criteria.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$numbers</th><td>mixed</td><td><em><p>Targeted entries. Can be any criteria accepted by
    {@link find()} or NULL in case the menu is one without entries
    (e.g. "/system identity").</p>
</em></td></tr><tr><th>$newValues</th><td>array</td><td><em><p>An array with the names of each property to set
    as an array key, and the new value as an array value.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td>returns the response collection, allowing you
    to inspect errors, if any.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Net\RouterOS\Util::unsetValue()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">unsetValue</span><span class="nb-faded-text">(mixed $numbers, string $value_name)</span> : <a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></code><div class="description"><p class="short_description">Unsets a value of a specified entry at the current menu.</p></div><div class="code-tabs"><div class="long-description">Equivalent of scripting's "unset" command. The "Value" part in the method
name is added because "unset" is a language construct, and thus a
reserved word.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$numbers</th><td>mixed</td><td><em><p>Targeted entries. Can be any criteria accepted
    by {@link find()}.</p>
</em></td></tr><tr><th>$value_name</th><td>string</td><td><em><p>The name of the value you want to unset.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/ResponseCollection.html">\PEAR2\Net\RouterOS\ResponseCollection</a></td><td></td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0-DEV
</a>.
        </small></body></html>
